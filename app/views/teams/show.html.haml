%h2 2010 Registration Form

%p
  %strong Things to know before you fill this out:
%ul
  %li You MUST be 18 years old to ride.
  %li You MUST wear a helmet.
  %li You MUST have front AND back lights while riding at night.
  %li $20/rider.

= error_messages_for :team

- form_for @team, :url => registrations_path do |form|
  %fieldset
    %h4 Team Information
    .field
      = form.text_field :name, :label => "Team Name"
      %em ( appears on scorecard)
    
    .field
      = form.label :category_a_team, "A Team"
      = form.radio_button :category, "A Team"
      %em ( 2-6 Riders / 1 Bicycle )
    .field
      = form.label :category_b_team, "B Team"
      = form.radio_button :category, "B Team"
      %em ( 2-6 Riders / Multiple Bicycles )
    .field
      = form.label :category_solo, "Solo"
      = form.radio_button :category, "Solo"
      %em ( 1 Rider / 1 Bicycle )
    .field 
      = form.label :category_tandem, "Tandem"
      = form.radio_button :category, "Tandem"
      %em ( 2 Riders / 1 Bicycle )

  %fieldset#rider_information
    %h4 Rider Information ( rider 1 is the Team Leader )
    %table{:width => "100%"}
      %col{:width => "100"}
      %col{:width => "212"}
      %col{:width => "210"}
      %col{:width => "*"}
      %tr
        %th
        %th Name
        %th Email
        %th Shirt Size
    - i = 1
    - form.fields_for :riders do |rider_form|
      .field
        %label{ :class => ("opt" if i > 2) } Rider #{i}
        %span.hide_labels
          = rider_form.text_field :name, :label => "Rider #{i} Name"
          = rider_form.text_field :email, :label => "Rider #{i} Email"
          = rider_form.select :shirt, Rider.shirt_sizes, { :include_blank => "--" }, :class => "sm", :label => "Rider #{i} Shirt"
      - i += 1

  %fieldset
    %h4 Team Leader Contact Information
    .field
      = form.text_field :address, :class => "lg", :label => true
    .field
      = form.label :line_2, "Line 2", :class => "opt"
      = form.text_field :line_2, :class => "lg"
    .field
      = form.text_field :city, :class => "med", :label => true
      = form.select :state, State.abbrevs, { :include_blank => "--" }, :class => "sm", :label => true
      = form.text_field :zip, :class => "sm", :label => true
    .field
      = form.text_field :phone, :label => true
      %em xxx-xxx-xxxx


  %fieldset
    %hr
    %p 
      %strong Registration costs $20 per rider. 
      500 rider limit. All team members must be signed up before the limit is reached. You will be notified of team number by email. 
    %p
      Questions: email 
      = mail_to "team@riverwest24.com"
    %input.submit{:type => "submit", :value => "Continue to Payment"}
  
- content_for :sidebar do
  = render "shared/sidebar"

- content_for :js do
  = javascript_include_merged :registration

- content_for :css do
  %style{ :type => "text/css" }
    :sass
      .hide_labels label
        display: none
