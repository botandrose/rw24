%h2 2010 Teams
%p#show
  = link_to "All", "#", :class => "first current"
  = link_to "A Team", "#", :"data-category" => "A"
  = link_to "B Team", "#", :"data-category" => "B"
  = link_to "Solo", "#", :"data-category" => "S"
  = link_to "Solo (M)", "#", :"data-category" => "M"
  = link_to "Solo (F)", "#", :"data-category" => "F"
  = link_to "Tandem", "#", :class => "last", :"data-category" => "T"
.clear
%p
  %b 182 Teams
%table#teams{:width => "100%"}
  %col{:width => "8%"}
  %col{:width => "10%"}
  %col{:width => "*"}
  %col{:width => "10%"}
  %col{:width => "10%"}
  %col{:width => "10%"}
  %col{:width => "10%"}
  %thead
    %tr
      %th.center_align{:scope => "col"} POS#
      %th.center_align{:scope => "col"} Class
      %th{:scope => "col"} Team Name
      %th.center_align{:scope => "col"} Laps
      %th.center_align{:scope => "col"} Bonus
      %th.center_align{:scope => "col"} Penalty
      %th.center_align{:scope => "col"} 
        %b Total
  %tbody
    - @teams.each do |team|
      %tr{ :class => "#{cycle(nil, "even")} #{[team.category_abbrev_with_gender, team.category_abbrev].uniq.join(" ")}" }
        %td.center_align= "%03d" % team.position
        %td.center_align= team.category_abbrev_with_gender
        %td= team.name
        %td.center_align --
        %td.center_align --
        %td.center_align --
        %td.center_align
          %b --

- content_for "js" do
  :javascript
    $(function() {
      $("#show a").click(function() {
        $(this).siblings().removeClass("current");
        $(this).addClass("current");

        var category = $(this).attr("data-category");
        if(category) {
          $("#teams tbody tr").hide();
          $("#teams tbody tr." + category).show()
            .removeClass("even").filter("tr:odd").addClass("even");
        } else {
          $("#teams tbody tr").show()
            .removeClass("even").filter("tr:odd").addClass("even");
        }

        return false;
      });
    });
